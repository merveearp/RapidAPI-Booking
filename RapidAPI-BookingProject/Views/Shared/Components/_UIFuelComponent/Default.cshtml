@model OpetFuelResponseDto
@{
    var istanbul = Model?.data?
        .FirstOrDefault(x => x.provinceName.ToLower().Contains("istanbul"));

    var benzin = istanbul?.prices
        .FirstOrDefault(x => x.productName.ToLower().Contains("benzin"));

    var motorin = istanbul?.prices
        .FirstOrDefault(x => x.productName.ToLower().Contains("motorin"));

    var lpg = istanbul?.prices
        .FirstOrDefault(x => x.productName.ToLower().Contains("lpg"));
}

<div class="info-card fuel-card h-100">
    <div class="card-header d-flex align-items-center gap-2">
        <i class="fa-solid fa-gas-pump"></i>
        <h6 class="mb-0">Güncel Akaryakıt | İstanbul</h6>
    </div>

    @if (istanbul != null)
    {
        <div class="fuel-body mt-3">

            @if (benzin != null)
            {
                <div class="fuel-row">
                    <span class="fuel-label">⛽ Benzin</span>
                    <span class="fuel-price">@benzin.amount ₺</span>
                </div>
            }

            @if (motorin != null)
            {
                <div class="fuel-row">
                    <span class="fuel-label">🚚 Motorin</span>
                    <span class="fuel-price">@motorin.amount ₺</span>
                </div>
            }

            @if (lpg != null)
            {
                <div class="fuel-row">
                    <span class="fuel-label">🔥 LPG</span>
                    <span class="fuel-price">@lpg.amount ₺</span>
                </div>
            }

            <div class="update-time mt-3">
                Kaynak: OPET
            </div>
        </div>
    }
    else
    {
        <div class="text-muted small mt-3">
            Akaryakıt verisi alınamadı.
        </div>
    }
</div>


<style>
    .fuel-body {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .fuel-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #f8f9fa;
        padding: 10px 14px;
        border-radius: 10px;
        font-size: 14px;
    }

    .fuel-label {
        font-weight: 600;
        color: #495057;
    }

    .fuel-price {
        font-weight: 700;
        color: #212529;
    }

    .update-time {
        font-size: 12px;
        color: #6c757d;
        text-align: right;
    }
</style>
